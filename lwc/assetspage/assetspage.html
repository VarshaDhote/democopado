<template>

    <!-- <c-raise-ticket product-name={product} ></c-raise-ticket> -->
  
  
        <!-- lightning button for open custom modal window -->
        <lightning-button   variant="brand" label="Raise a Ticket" title="Open Modal" onclick={customShowModalPopup}
          class="slds-float_right"></lightning-button>
       <!-- modal start -->
         <template if:true={customFormModal} >
          <section role="dialog" tabindex="-1" aria-labelledby="modal-heading-01" aria-modal="true"
            aria-describedby="modal-content-id-1" class="slds-modal slds-fade-in-open">
            <div class="slds-modal__container">
              <!-- modal header start -->
              <header class="slds-modal__header">
                <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close"
                  onclick={customHideModalPopup}>
                  <lightning-icon icon-name="utility:close" alternative-text="close" variant="inverse" size="small">
                  </lightning-icon>
                  <span class="slds-assistive-text">Close</span>
                </button>
                <h2 class="slds-text-heading_medium slds-hyphenate">Raise the Ticket</h2>
              </header>
      
              <!-- modal body start -->
              <!-- <div class="slds-modal__content slds-p-around_medium"> -->
      
                <div class="slds-grid slds-wrap">
                  <div class="slds-modal__content slds-p-around_medium" id="modal-content-id-1"
                    style="width:1000px;height:500px">
      
                    <lightning-record-edit-form object-api-name="Case" onsuccess={handleSuccess} >
      
                      <lightning-messages></lightning-messages>
      
                      <div class="slds-var-m-around_medium">
      
                        <lightning-input-field field-name="ContactId"  value={ContactId}  disabled >
                        </lightning-input-field>
    
                        <lightning-input label ="AccountId" value={AccountName}  disabled >
                        </lightning-input>                       
                       
                        <lightning-input-field field-name="ContactPhone" value={ContactNo}  >
                        </lightning-input-field>
                        <lightning-input-field field-name="ContactEmail" value={Email}  >
                        </lightning-input-field>
                        <lightning-input-field field-name="ProductId" value={product} label="Show"  hidden = {producthide} >
                        </lightning-input-field>
                      
                        <lightning-input-field field-name="Product_Category__c"  value ={productCategory} disabled   >
                        </lightning-input-field>
                        <lightning-input-field field-name="Brand__c" value={Brand} disabled>
                        </lightning-input-field>
                        <lightning-input-field field-name="Subject"  required >
                        </lightning-input-field>
                        <lightning-input-field field-name="Description" >
                        </lightning-input-field>
                        <lightning-input-field field-name="EntitlementId"  value={entitlementId} class="slds-hide"  >
                        </lightning-input-field>
      
      
                         <lightning-input type="file" onchange={onFileUpload} required name="uploadFile"   label="Attachment">  
                         
                        </lightning-input> 
                        <p  style="color:brown">{fileName}</p>
                        <p> *(Max size=10MB)  </p>   
                        </div>
      
                        <div class="slds-var-m-top_medium">
      
                          <lightning-button style="margin:5px;" label="Cancel" title="Non-primary action"
                            onclick={customHideModalPopup} class="slds-m-left_x-small"></lightning-button>
      
                          <lightning-button style="margin:5px;" onclick={saveClick} variant="brand" label="Submit" title="Success"
                            >
      
                          </lightning-button>
      
                        </div>
                      </lightning-record-edit-form>
              
                   
                </div>
              </div>
      
            <!-- </div> -->
    
            
              
            </div>
          </section>
           
         </template>
    
<template   if:true={showform} >
    <section role="dialog" tabindex="-1" aria-labelledby="modal-heading-01" aria-modal="true"
      aria-describedby="modal-content-id-1" class="slds-modal slds-fade-in-open">
      <div class="slds-modal__container">
        <!-- modal header start -->
        <header class="slds-modal__header">
          <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close"
            onclick={customhideformmodel}>
            <lightning-icon icon-name="utility:close" alternative-text="close" variant="inverse" size="small">
            </lightning-icon>
            <span class="slds-assistive-text">Close</span>
          </button>
          <h2 class="slds-text-heading_medium slds-hyphenate">Raise the Ticket</h2>
        </header>

        <!-- modal body start -->
        <div class="slds-modal__content slds-p-around_medium">

          <div class="slds-grid slds-wrap">
            <div class="slds-modal__content slds-p-around_medium" id="modal-content-id-2"
              style="width:1000px;height:700px">

              <lightning-record-edit-form object-api-name="Case" onsuccess={handleSuccess} >

                <lightning-messages></lightning-messages>

                <div class="slds-var-m-around_medium">

                  <!-- <lightning-input-field field-name="ContactId"  value={ContactId}  disabled >
                  </lightning-input-field> -->

                  <lightning-input label ="AccountId" value={AccountName}  disabled >
                  </lightning-input>                       
                 
                  <!-- <lightning-input-field field-name="ContactPhone" value={ContactNo}  >
                  </lightning-input-field>
                  <lightning-input-field field-name="ContactEmail" value={Email}  >
                  </lightning-input-field> -->
                  <!-- <lightning-input-field field-name="ProductId" value={product} label="Show"  hidden = {producthide} >
                  </lightning-input-field> -->
                
                  <lightning-input-field field-name="Product_Category__c"  value ='TV' disabled class="slds-hide"   >
                  </lightning-input-field>
                  <!-- <lightning-input-field field-name="ServiceKA__Brand__c" value={Brand} disabled>
                  </lightning-input-field> -->
                  <lightning-input-field field-name="Subject"  required >
                  </lightning-input-field>
                  <lightning-input-field field-name="Description" >
                  </lightning-input-field>
                  <lightning-input-field field-name="EntitlementId"  value={entitlementId} class="slds-hide"  >
                  </lightning-input-field>


                   <lightning-input type="file" onchange={onFileUpload} required name="uploadFile"   label="Attachment">  
                   
                  </lightning-input> 
                  <p  style="color:brown">{fileName}</p>
                  <p> *(Max size=10MB)  </p>   
                  </div>

                  <div class="slds-var-m-top_medium">

                    <lightning-button style="margin:5px;" label="Cancel" title="Non-primary action"
                      onclick={customhideformmodel} class="slds-m-left_x-small"></lightning-button>

                    <lightning-button style="margin:5px;" onclick={saveClick} variant="brand" label="Submit" title="Success"
                      >

                    </lightning-button>

                  </div>
                </lightning-record-edit-form>
        
             
          </div>
        </div>

      </div>

      
        
      </div>
    </section>
     

</template>






    <lightning-tabset  >
       <lightning-tab  label="Product"    >
        
            <lightning-datatable
                    key-field="Id"
                    data={log}
                    columns={column}
                    onrowselection = {SelectRowRecord}>
                    
            </lightning-datatable>
        </lightning-tab>
        
       <lightning-tab  label="Subscription"  onclick={refreshComponent}>
       
            <lightning-datatable class=""  id="02"
            data={log} 
            columns={subcolumns}
             key-field="Id" 
             hide-checkbox-column="true">
         </lightning-datatable>
          
        </lightning-tab>
       
    </lightning-tabset>

    

</template>